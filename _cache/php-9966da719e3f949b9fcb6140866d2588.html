<div class="highlight"><pre><code class="php"><span class="x">/**</span>
<span class="x">  * Load the offensive word list</span>
<span class="x">  *</span>
<span class="x">  * @return boolean</span>
<span class="x">  */</span>
<span class="x"> private function load_bad_word_list( )</span>
<span class="x"> {</span>
<span class="x">     if( is_file( &#39;offensiveword.txt&#39; ) &amp;&amp; is_readable( &#39;offensiveword.txt&#39; ) )</span>
<span class="x">     {</span>
<span class="x">         $lines = file( &#39;offensiveword.txt&#39; );</span>
<span class="x">         self::$_total_words_in_list = count( $lines );</span>
<span class="x">         for( $i = 0; $i &lt;= ( self::$_total_words_in_list - 1); $i++ ) if( $lines[$i] != &quot;&quot; ) self::$_word_list[] = trim( $lines[$i] );</span>
<span class="x">         usort(self::$_word_list, array( self, &#39;sort&#39; ) );</span>
<span class="x">         $lines = null;</span>
<span class="x">         return true;</span>
<span class="x">     }</span>
<span class="x">     else return false;</span>
<span class="x"> }</span>

<span class="x"> /**</span>
<span class="x">  * Sort the word list by string length, longest to smallest string. This</span>
<span class="x">  * is the user defined callback function for the usort function call</span>
<span class="x">  * in the load_bad_word_list method.</span>
<span class="x">  *</span>
<span class="x">  * @param string $a</span>
<span class="x">  * @param string $b</span>
<span class="x">  * @return integer</span>
<span class="x">  */</span>
<span class="x"> private function sort( $a, $b )</span>
<span class="x"> {</span>
<span class="x">     if( strlen( $a ) &lt; strlen( $b ) ) return 1;</span>
<span class="x">     if( strlen( $a ) &gt; strlen( $b ) ) return -1;</span>

<span class="x">     // they must be the same length</span>
<span class="x">     return 0;</span>
<span class="x"> }</span>
</code></pre>
</div>
