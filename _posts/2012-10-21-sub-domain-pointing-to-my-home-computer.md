--- 
image: what-is-dns-diagram12.jpeg
wordpress_id: 1626
layout: post
wordpress_url: http://www.josephcrawford.com/?p=1626
categories: 
- slug: development
  autoslug: development
  title: Development
- slug: websites
  autoslug: websites
  title: Websites
- slug: useful
  autoslug: useful
  title: Useful
- slug: tutorials
  autoslug: tutorials
  title: Tutorials
- slug: tips-tricks
  autoslug: tips-&amp;-tricks
  title: Tips &amp; Tricks
- slug: raves
  autoslug: raves
  title: Raves
- slug: news
  autoslug: news
  title: News
- slug: internet
  autoslug: internet
  title: Internet
- slug: entertainment
  autoslug: entertainment
  title: Entertainment
- slug: work
  autoslug: work
  title: Work
tags: []

title: Sub-Domain Pointing to my Home Computer
---
For many years I have always wondered just how difficult it would be to make a sub-domain point to my home computer.  I never really took the time to look into it because my web host Lunarpages does not offer this ability through CPanel.  However recently I changed domain registrars from GoDaddy to [NameCheap](http://www.namecheap.com/ "NameCheap") due to the SOPA controversy started by [GoDaddy publicly supporting SOPA](http://www.josephcrawford.com/2012/01/02/godaddy-sopa-domains-transferre/ "Godaddy SOPA: Domains Transferred").  Since I switched to [NameCheap](http://www.namecheap.com/ "NameCheap") I noticed that they offer free dns services.  I started to look into this today and found that it works exactly as I thought and will allow you to customize your DNS to your liking.One thing to note is that if you start to mess with your DNS for your domain it might take upwards of 48 hours for your DNS to propagate worldwide.  This means that even if the site loads for you after your DNS changes it may not yet load for people in other parts of the world.<!--more-->To start out I wanted to run a simple test and see if I could make <font color="royalblue">home.josephcrawford.com</font> point to my home machine.  The first step in accomplishing this was to transfer my DNS for my domain to NameCheap.  Once they were controlling my DNS an option showed up on the left side of the screen named 'All Host Records'.  Clicking on this took me to another screen where I had to enter some information.  The first information I had to put in place were the settings so that <font color="royalblue">josephcrawford.com</font> and <font color="royalblue">www.josephcrawford.com</font> would point to my web host.  If you are not familiar with DNS at all you should know that the @ sign means your domain without any sub-domain so in my case <font color="royalblue">josephcrawford.com</font>, <font color="royalblue">www.josephcrawford.com</font> is actually a sub-domain itself.  To make it so that my domain would still point to my shared web host I noted down the IP that my domain was pointing to prior to switching the DNS.  I used this IP in 'IP ADDRESS/URL' column of the settings.  I then choose the record type of A for Address.  I saved my changes and then loaded up <font color="royalblue">www.josephcrawford.com</font> and <font color="royalblue">josephcrawford.com</font> in my browser to make sure they still worked.  To my surprise it worked the first time and did not take long for DNS to propagate for me.![](http://www.josephcrawford.com/wp-content/uploads/2012/10/web-host-settings.png "web-host-settings")Now that I have the main domain working it is time to try to get some of my sub-domains working.  I have several sub-domains that were setup on Lunarpages when they managed my DNS.  They are sub-domains for mail and ftp.  However without these entries in my NameCheap DNS entries the hosts would not resolve.  On top of those sub-domains I also wanted to have <font color="royalblue">home.josephcrawford.com</font> point to my home computer as well.  To accomplish this I had determine what my home IP was and to do that I just visited <http://www.whatsmyip.org>.  With this information in hand I started to fill in the sub-domain settings as seen below.![](http://www.josephcrawford.com/wp-content/uploads/2012/10/sub-domain-settings.png "sub-domain-settings")As you can see it is pretty simple.  I just added the sub-domains for mail and ftp and added the IP address to the machine where those are hosted.  To get the home sub-domain to work I just had to enter my IP address of my machine.  I saved the changes and waited a few minutes for DNS to propagate then tried pinging my <font color="royalblue">home.josephcrawford.com</font> and to my surprise it was hitting my local machine.  I setup a quick virtual host in Apache and tested that it was hitting the site.  In my case my cable company does not block port 80 so there was nothing more I had to do in the settings.  However if your ISP does block port 80 then you can setup your apache to run on a different port, say 8001.  With this port information in hand you would just modify the ip to be IP:PORT and choose the 'RECORD TYPE' of 'URL FRAME'.  What this will do is load up your site by domain but actually load the correct port in an iframe so that end-users won't have to deal with port information.After a bit of testing I found that everything worked perfectly so now I needed to finish setting up my Mail so that I could send and receive mail.  To do this I went down to the mail section and filled it in with the correct information as seen below.![](http://www.josephcrawford.com/wp-content/uploads/2012/10/mail-settings.png "mail-settings")For the hostname I had to use a plain @ and then provide the sub-domain that I had setup prior as the mail server host name.  Once these settings were in place and saved I went to my mail client and tested sending a message and receiving a message.  Everything was working smooth.However after thinking about things a bit more I found that a single sub-domain would not work for my situation.  I do a lot of web development on my home machine and I have many virtual hosts setup.  Using a single domain of <font color="royalblue">home.josephcrawford.com</font> could point to one site but could not point to many sites.  To over come this I determined that what I really wanted was a wild-card sub-domain.  A wild-card sub-domain just means that <font color="royalblue">*.home.josephcrawford.com</font> would point to my home machine where * could be anything you wanted.Setting this up would take a bit more work however.  I would need to register <font color="royalblue">home.josephcrawford.com</font> as a domain that NameCheap would manage.  Once this is done I will basically have to manage 2 domains in the NameCheap domain management panel.  I will explain this as we continue to implement this feature.The first thing as stated above is that I had to register the domain with NameCheap so they knew they would be managing the DNS.  I just went to the [Free DNS](https://www.namecheap.com/products/freedns.aspx "NameCheap Free DNS") page and entered the url of <font color="royalblue">home.josephcrawford.com</font>.  Once I clicked 'Get DNS' it took me to a page that looked exactly like the one we used to setup the main <font color="royalblue">josephcrawford.com</font> sub-domains.  In this page I had to tell the main domain <font color="royalblue">home.josephcrawford.com</font> that it was going to point to my home machine's IP.  I also had to enter an * for the sub-domain name and tell it that it was also going to point to my home machine.  Notice all of these record types are A for Address.  I clicked save and tried to hit <font color="royalblue">something.home.josephcrawford.com</font> which failed.  I realized that I was not finished with setting up my domain.  ![](http://www.josephcrawford.com/wp-content/uploads/2012/10/wild-card-sib-domain-settings.png "wild-card-sib-domain-settings")I made sure the sub-domain DNS was saved and then went back to my domain management panel and checked my settings for my main domain of <font color="royalblue">josephcrawford.com</font>.Ah-Ha!  I have <font color="royalblue">home.josephcrawford.com</font> pointing to my home machine which is no longer where it should be pointing.  Since NameCheap is now handling the DNS for that domain I need to make the sub-domain point to NameCheap's DNS servers.  These servers are as follows: <font color="royalblue">freedns1.registrar-servers.com.</font>, <font color="royalblue">freedns2.registrar-servers.com.</font>, <font color="royalblue">freedns3.registrar-servers.com.</font>, <font color="royalblue">freedns4.registrar-servers.com.</font>, <font color="royalblue">freedns5.registrar-servers.com.</font> Please note that the periods after the hostnames are not a typo, you must put these in place exactly as they are otherwise things might not work out properly.  When putting these settings in place you will also have to choose the Record Type of 'NS Record' for Name Server Record.You can see my settings below:![](http://www.josephcrawford.com/wp-content/uploads/2012/10/wild-card-sub-domain.png "wild-card-sub-domain")![](http://www.josephcrawford.com/wp-content/uploads/2012/10/sidebar-navigation.png "sidebar-navigation")Now that everything was in place I made sure I saved the settings.  I then wanted to verify that my settings for the wild-card DNS entry were in place.  At-first I could not figure out where this domain was because it was not listed with my other domains.  However in the left side of the NameCheap panel I saw a Free DNS section, in this section clicked on Hosted Domains.  That is where I found my settings for the <font color="royalblue">home.josephcrawford.com</font> domain.  I double checked that everything was set properly and then I went on for some tests.I quickly created a couple virtual hosts in my apache installation called <font color="royalblue">test1.home.josephcrawford.com</font> and <font color="royalblue">test2.home.josephcrawford.com</font>.  I restarted apache and loaded up the sites in my browser.  Both were working perfectly so I have accomplished exactly what I wanted to.  I can SSH to my machine using <font color="royalblue">home.josephcrawford.com</font> and I can hit all of my virtual hosts from outside of my local network.  Below is a screen shot showing pings from different hosts due to this method of setting up my DNS.[![](http://www.josephcrawford.com/wp-content/uploads/2012/10/pings-160x300.png "pings")](http://www.josephcrawford.com/wp-content/uploads/2012/10/pings.png) Now if you are anything like me your first question during this setup process is well..  What if my home IP changes?  We all know that unless you pay for a static IP from your internet provider your IP address could change quite frequently.  However the configuration I setup in NameCheap is directing traffic to a static IP.  If my IP changes these DNS entries will no longer work.  Well currently NameCheap does offer a Dynamic DNS client which can update your IP when it changes so that there are no interruptions in service.  However currently they only offer a Windows client.  That makes it difficult for us folks who run Mac and Linux.  The only way you can solve this issue is to change your IP manually unfortunately.  NameCheap has stated that they are working on a Mac Client to update the Dynamic IP address however they have no release date announced.I am only using this service as a "fun" thing right now so I don't mind any service interruptions and can make the necessary setting changes when the time comes.I do have to state that I am not a DNS expert and a lot of assistance was provided by NameCheap support staff.  With that in mind I have to throw out **A HUGE THANK YOU** to [NameCheap](http://www.namecheap.com/ "NameCheap") for making this so simple to accomplish.
